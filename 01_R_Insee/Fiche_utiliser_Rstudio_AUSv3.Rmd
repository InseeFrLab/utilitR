# Utiliser RStudio sur l'environnement AUSv3 {#AUSv3}

::: recommandation
Vous pouvez utiliser `R` et RStudio sur la collection RPython de l'environnement AUSv3 pour réaliser des tâches de production statistique et des études, et pour traiter des données confidentielles. Si vous souhaitez mener des expérimentations qui requièrent des ressources informatiques importantes ou un accès à internet, il est préférable d'utiliser le SSP Cloud.
:::

## Présentation succincte d'AUSv3

Les serveurs AUSv3 sont des environnements informatiques de travail sur lesquels les agents de l'Insee peuvent traiter des données confidentielles de façon sécurisée. Les serveurs AUSv3 sont regroupés en cinq collections : la collection SAS, la collection WPS, la collection RPython, la collection Formation et la collection Lab. 

Une collection AUSv3 est un regroupement de serveurs tous strictement identiques entre eux : les ressources informatiques, la configuration et les logiciels disponibles sont exactement les mêmes sur les différents serveurs d'une collection. En revanche, les collections sont différentes entre elles.  Par exemple, tous les serveurs de la collection RPython disposent `R`, RStudio et Python (mais pas de SAS), et tous les serveurs de la collection SAS disposent de SAS (mais pas RStudio et Python).

::: specificite

Les serveurs AUSv3 font l'objet d'une documentation fournie. Cette documentation se trouve principalement sur l'intranet Insee. Vous pouvez y accéder par le site [agora.insee.fr], puis en cliquant sur `Services > DSI > Libre Service statistique > AUS V3`.

Des fiches et des tutoriels sont également disponibles dans AUS, dans le répertoire `Y:\Documentation\AUSV3`.
:::


## Comment se connecter à AUSv3

### Obtenir un accès à AUSv3

Pour obtenir un accès à AUSv3, vous devez déposer une demande sur l'outil Si@moi. Voici la procédure : 

- Double-cliquer sur l'icône Si@moi disponible sur le bureau de votre poste local ;
- Cliquer sur "Faire une demande" ;
- Sous la bannière "AUS : Création / suppression / modification de mon espace personnel", cliquer sur "Demander".

Vous devriez recevoir des emails vous indiquant que votre accès à AUS a été créé. Suite à la création de votre accès à AUS, vous devriez voir apparaître l'icône suivante sur votre bureau : 
```{r, out.extra = 'style="display: inline-block; padding : 0; width: 40px;"', echo = FALSE}
utilitr::include_image("./pics/AUSv3/AUSv3.png", compression = FALSE)
```
.


::: conseil
Si votre accès à AUS n'est pas créé rapidement, vous pouvez ouvrir un ticket Si@moi.
:::


### Ouvrir une session sur AUSv3

Pour ouvrir une session sur la collection `R`-Python, il faut cliquer sur l'icône d'AUSv3
```{r, out.extra = 'style="display: inline-block; padding : 0; width: 40px;"', echo = FALSE}
utilitr::include_image("./pics/AUSv3/AUSv3.png", compression = FALSE)
```
puis sur le raccourci 
```{r, out.extra = 'style="display: inline-block; padding : 0; width: 140px;"', echo = FALSE}
utilitr::include_image("./pics/AUSv3/Raccourci_AUS_RPython.png", compression = FALSE)
```
.

## Utiliser RStudio dans AUSv3

### Ouvrir RStudio

Pour ouvrir RStudio dans AUSv3, il suffit de double-cliquer sur l'icône RStudio présente sur le bureau d'AUS (cadre rouge).

```{r, echo = FALSE, out.width= "75%", fig.cap= "Ecran d'accueil de la collection RPython d'AUSv3"}
utilitr::include_image("./pics/AUSv3/Desktop_AUS.png", ratio_compression = 1)
```

### Travailler avec Git sur AUSv3

#### Créer une clé SSH/token https

A COMPLETER

#### Où stocker les dépôts locaux

Lorsque vous créez un projet RStudio en clonant un dépôt distant, il est nécessaire de définir l'emplacement de votre dépôt local (voir la fiche [Travailler avec ](#git)). Dans AUSv3, il est conseillé de stocker vos dépôts locaux dans votre espace personnel `U:`. Par exemple, vous pouvez stocker tous vos dépôts dans un dossier `U:/DepotsGit`. En revanche, il est fortement déconseillé de stocker un dépôt local dans un coffre ou dans un espace partagé, car d'autres agents peuvent avoir accès à votre dépôt local.

### Logiciels utilitaires disponibles

Des logiciels utilitaires sont installés sur les serveurs AUSv3. Vous pouvez les trouver dans le répertoire `Y:/Logiciels`.

## Pour en savoir plus

- La foire aux questions d'AUSv3 est disponible sur Agora: [agora.insee.fr], puis cliquer sur `Services > DSI > Libre Service statistique > AUS V3` ;
- La documentation d'AUSv3 est disponible dans le dossier `Y:/Documentation/AUSv3`.
