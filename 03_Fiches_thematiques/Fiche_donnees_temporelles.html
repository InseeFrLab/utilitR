<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>24&nbsp; Manipuler des données temporelles</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../03_Fiches_thematiques/Fiche_analyse_de_donnees.html" rel="next">
<link href="../03_Fiches_thematiques/Fiche_donnees_spatiales.html" rel="prev">
<link href="../resources/logo-utilitr.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><link href="../site_libs/htmltools-fill-0.5.8.9000/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="../site_libs/jquery-1.11.1/jquery.min.js"></script><link href="../site_libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="../site_libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="../site_libs/dygraphs-1.1.1/shapes.js"></script><script src="../site_libs/moment-2.8.4/moment.js"></script><script src="../site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="../site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="../site_libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
</head>
<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../resources/logo-utilitr.png" alt="Logo du projet utilitR" class="navbar-logo"></a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link active" href="../01_R_Insee/presentation_utilitr.html" aria-current="page"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../03_Fiches_thematiques/Fiche_rprojects.html"> 
<span class="menu-text">Mener un projet statistique</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../03_Fiches_thematiques/Fiche_import_fichiers_plats.html"> 
<span class="menu-text">Importer des données</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../03_Fiches_thematiques/Fiche_tidyverse.html"> 
<span class="menu-text">Choisir son paradigme</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../03_Fiches_thematiques/Fiche_joindre_donnees.html"> 
<span class="menu-text">Manipuler des données</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../03_Fiches_thematiques/Fiche_graphiques.html"> 
<span class="menu-text">Produire des sorties</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../02_Bonnes_pratiques/01-qualite-code.html"> 
<span class="menu-text">Bonnes pratiques</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/InseeFrLab/utilitR" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../03_Fiches_thematiques/Fiche_joindre_donnees.html">Manipuler des données avec R</a></li><li class="breadcrumb-item"><a href="../03_Fiches_thematiques/Fiche_donnees_temporelles.html"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Manipuler des données temporelles</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../resources/logo-utilitr.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Principales parties</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/presentation_utilitr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Présentation du projet <code>utilitR</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/Fiche_utiliser_utilitR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Comment utiliser la documentation <code>utilitR</code></span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Mener un projet statistique avec R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_rprojects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Utiliser les projets <code>RStudio</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_git_utilisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Utiliser <code>Git</code> avec RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/Fiche_installer_packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Utiliser des <em>packages</em> <code>R</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_comment_choisir_un_package.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Comment choisir un <em>package</em> ?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_gerer_dependances.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Gérer les dépendances</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_se_documenter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Se documenter sur <code>R</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_resoudre_un_probleme.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Résoudre un problème avec <code>R</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_targets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Construire une chaîne de traitement reproductible avec <code>targets</code></span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Importer des données avec R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_import_fichiers_plats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Importer des fichiers plats (<code>.csv</code>, <code>.tsv</code>, <code>.txt</code>)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_import_tables_sas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Importer des tables SAS®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_import_tableurs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Importer des fichiers issus de tableurs (Excel, Calc)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_import_fichiers_parquet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Lire et écrire des fichiers Parquet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_connexion_bdd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Se connecter à une base de données</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Choisir son paradigme d’analyse des données avec R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_tidyverse.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Manipuler des données avec le <code>tidyverse</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_datatable.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Manipuler des données avec <code>data.table</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Manipuler des données avec <code>arrow</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_duckdb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Manipuler des données avec <code>duckdb</code></span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Manipuler des données avec R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_joindre_donnees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Joindre des tables de données</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_donnees_textuelles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Manipuler des données textuelles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_survey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Utiliser des données d’enquêtes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_donnees_spatiales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Manipuler des données spatiales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_donnees_temporelles.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Manipuler des données temporelles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_analyse_de_donnees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">L’analyse de données (ACP, ACM, ACF…)</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Produire des sorties avec R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_graphiques.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Faire des graphiques avec <code>ggplot2</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_rmarkdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Produire des documents avec <code>R Markdown</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_rmarkdown_param_report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Produire des rapports automatisés avec <code>R Markdown</code></span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">Bonnes pratiques</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02_Bonnes_pratiques/01-qualite-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Qualité du code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../02_Bonnes_pratiques/02-structure-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Structure des projets</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true">
 <span class="menu-text">Éléments de configuration</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/Fiche_utiliser_Rstudio_AUSv3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Utiliser RStudio sur l’environnement AUSv3</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/Fiche_utiliser_Rstudio_SSPCloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Utiliser <code>RStudio</code> sur l’environnement SSP Cloud</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../03_Fiches_thematiques/Fiche_configurer_git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Configurer <code>Git</code> sur son poste de travail</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/Fiche-personnaliser-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Personnaliser la configuration de <code>R</code></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../01_R_Insee/Fiche_utiliser_ressources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Superviser sa session <code>R</code></span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#t%C3%A2ches-concern%C3%A9es-et-recommandations" id="toc-tâches-concernées-et-recommandations" class="nav-link active" data-scroll-target="#t%C3%A2ches-concern%C3%A9es-et-recommandations"><span class="header-section-number">24.1</span> Tâches concernées et recommandations</a></li>
  <li>
<a href="#d%C3%A9finitions" id="toc-définitions" class="nav-link" data-scroll-target="#d%C3%A9finitions"><span class="header-section-number">24.2</span> Définitions</a>
  <ul class="collapse">
<li><a href="#les-dates" id="toc-les-dates" class="nav-link" data-scroll-target="#les-dates"><span class="header-section-number">24.2.1</span> Les dates</a></li>
  <li><a href="#les-s%C3%A9ries-temporelles" id="toc-les-séries-temporelles" class="nav-link" data-scroll-target="#les-s%C3%A9ries-temporelles"><span class="header-section-number">24.2.2</span> Les séries temporelles</a></li>
  </ul>
</li>
  <li>
<a href="#cr%C3%A9ation-de-date" id="toc-création-de-date" class="nav-link" data-scroll-target="#cr%C3%A9ation-de-date"><span class="header-section-number">24.3</span> Création de date</a>
  <ul class="collapse">
<li><a href="#le-format-date-en-r" id="toc-le-format-date-en-r" class="nav-link" data-scroll-target="#le-format-date-en-r"><span class="header-section-number">24.3.1</span> Le format <code>Date</code> en R</a></li>
  <li><a href="#les-autres-formats-de-date-posixct-et-posixlt" id="toc-les-autres-formats-de-date-posixct-et-posixlt" class="nav-link" data-scroll-target="#les-autres-formats-de-date-posixct-et-posixlt"><span class="header-section-number">24.3.2</span> Les autres formats de date <code>POSIXct</code> et <code>POSIXlt</code></a></li>
  <li><a href="#les-diff%C3%A9rents-fuseaux-horaires" id="toc-les-différents-fuseaux-horaires" class="nav-link" data-scroll-target="#les-diff%C3%A9rents-fuseaux-horaires"><span class="header-section-number">24.3.3</span> Les différents fuseaux horaires</a></li>
  <li><a href="#g%C3%A9rer-les-changements-dheure" id="toc-gérer-les-changements-dheure" class="nav-link" data-scroll-target="#g%C3%A9rer-les-changements-dheure"><span class="header-section-number">24.3.4</span> Gérer les changements d’heure</a></li>
  </ul>
</li>
  <li>
<a href="#autres-fonctions" id="toc-autres-fonctions" class="nav-link" data-scroll-target="#autres-fonctions"><span class="header-section-number">24.4</span> Autres fonctions</a>
  <ul class="collapse">
<li><a href="#formater-une-date-avec-la-fonction-format" id="toc-formater-une-date-avec-la-fonction-format" class="nav-link" data-scroll-target="#formater-une-date-avec-la-fonction-format"><span class="header-section-number">24.4.1</span> Formater une date avec la fonction <code class="sourceCode r"><span class="fu">format</span>()</code></a></li>
  <li><a href="#param%C3%A8tres-r%C3%A9gionaux" id="toc-paramètres-régionaux" class="nav-link" data-scroll-target="#param%C3%A8tres-r%C3%A9gionaux"><span class="header-section-number">24.4.2</span> Paramètres régionaux</a></li>
  </ul>
</li>
  <li><a href="#cr%C3%A9ation-de-vecteur-de-date" id="toc-création-de-vecteur-de-date" class="nav-link" data-scroll-target="#cr%C3%A9ation-de-vecteur-de-date"><span class="header-section-number">24.5</span> Création de vecteur de date</a></li>
  <li>
<a href="#autres-objets-de-la-famille-des-dates" id="toc-autres-objets-de-la-famille-des-dates" class="nav-link" data-scroll-target="#autres-objets-de-la-famille-des-dates"><span class="header-section-number">24.6</span> Autres objets de la famille des dates</a>
  <ul class="collapse">
<li><a href="#les-objets-difftime" id="toc-les-objets-difftime" class="nav-link" data-scroll-target="#les-objets-difftime"><span class="header-section-number">24.6.1</span> Les objets <code>difftime</code></a></li>
  <li><a href="#fonctionnalit%C3%A9s-avanc%C3%A9es-avec-lubridate" id="toc-fonctionnalités-avancées-avec-lubridate" class="nav-link" data-scroll-target="#fonctionnalit%C3%A9s-avanc%C3%A9es-avec-lubridate"><span class="header-section-number">24.6.2</span> Fonctionnalités avancées avec <code>lubridate</code></a></li>
  </ul>
</li>
  <li>
<a href="#les-s%C3%A9ries-temporelles-en-r" id="toc-les-séries-temporelles-en-r" class="nav-link" data-scroll-target="#les-s%C3%A9ries-temporelles-en-r"><span class="header-section-number">24.7</span> Les séries temporelles en R</a>
  <ul class="collapse">
<li><a href="#cr%C3%A9er-une-s%C3%A9rie-temporelle" id="toc-créer-une-série-temporelle" class="nav-link" data-scroll-target="#cr%C3%A9er-une-s%C3%A9rie-temporelle"><span class="header-section-number">24.7.1</span> Créer une série temporelle</a></li>
  <li><a href="#autres-formats-de-dates" id="toc-autres-formats-de-dates" class="nav-link" data-scroll-target="#autres-formats-de-dates"><span class="header-section-number">24.7.2</span> Autres formats de dates</a></li>
  <li><a href="#fonctions-des-objets-ts" id="toc-fonctions-des-objets-ts" class="nav-link" data-scroll-target="#fonctions-des-objets-ts"><span class="header-section-number">24.7.3</span> Fonctions des objets <code>ts</code></a></li>
  <li><a href="#s%C3%A9ries-hautes-fr%C3%A9quences-avec-zoo" id="toc-séries-hautes-fréquences-avec-zoo" class="nav-link" data-scroll-target="#s%C3%A9ries-hautes-fr%C3%A9quences-avec-zoo"><span class="header-section-number">24.7.4</span> Séries hautes fréquences avec <code>zoo</code></a></li>
  </ul>
</li>
  <li>
<a href="#afficher-des-s%C3%A9ries-temporelles" id="toc-afficher-des-séries-temporelles" class="nav-link" data-scroll-target="#afficher-des-s%C3%A9ries-temporelles"><span class="header-section-number">24.8</span> Afficher des séries temporelles</a>
  <ul class="collapse">
<li><a href="#classique-plot" id="toc-classique-plot" class="nav-link" data-scroll-target="#classique-plot"><span class="header-section-number">24.8.1</span> Classique <code class="sourceCode r"><span class="fu">plot</span>()</code></a></li>
  <li><a href="#package-ggplot2" id="toc-package-ggplot2" class="nav-link" data-scroll-target="#package-ggplot2"><span class="header-section-number">24.8.2</span> Package <code>ggplot2</code></a></li>
  <li><a href="#package-dygraphs" id="toc-package-dygraphs" class="nav-link" data-scroll-target="#package-dygraphs"><span class="header-section-number">24.8.3</span> Package <code>dygraphs</code></a></li>
  </ul>
</li>
  <li><a href="#pour-en-savoir-plus" id="toc-pour-en-savoir-plus" class="nav-link" data-scroll-target="#pour-en-savoir-plus"><span class="header-section-number">24.9</span> Pour en savoir plus</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/InseeFrLab/utilitR/edit/master/03_Fiches_thematiques/Fiche_donnees_temporelles.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/InseeFrLab/utilitR/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../03_Fiches_thematiques/Fiche_joindre_donnees.html">Manipuler des données avec R</a></li><li class="breadcrumb-item"><a href="../03_Fiches_thematiques/Fiche_donnees_temporelles.html"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Manipuler des données temporelles</span></a></li></ol></nav><div class="quarto-title">
<h1 class="title"><span id="timeseries" class="quarto-section-identifier"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Manipuler des données temporelles</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="tâches-concernées-et-recommandations" class="level2" data-number="24.1"><h2 data-number="24.1" class="anchored" data-anchor-id="tâches-concernées-et-recommandations">
<span class="header-section-number">24.1</span> Tâches concernées et recommandations</h2>
<p>L’utilisateur souhaite manipuler des dates (import et export du format <code>Date</code>, manipulation et formatage de la date, différentes fréquences) ou des séries temporelles (création d’objets <code>ts</code> en R).</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Information sur les packages utilisés
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Les packages <code>base</code> et <code>stats</code> proposent déjà une bonne diversité de fonctionnalités pour traiter les dates et séries temporelles ;</li>
<li>Le package <code>lubridate</code> ajoute des fonctionnalités supplémentaires sur le traitement des dates ;</li>
<li>Le package <code>parsedate</code> permet de contrôler les normes de format de date ;</li>
<li>Le package <code>zoo</code> permet de gérer les données journalières ou infra-journalières ;</li>
<li>Pour les graphiques, ce sont les packages <code>ggplot2</code> et <code>dygraphs</code> qui seront utilisés.</li>
</ul>
<p>Pour installer les packages :</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lubridate"</span>, <span class="st">"parsedate"</span>, <span class="st">"zoo"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ggplot2"</span>, <span class="st">"dygraphs"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>La fonction <code class="sourceCode r"><span class="fu">as.Date</span>()</code> existe dans les packages <code>base</code> et <code>zoo</code>, mais n’a pas la même fonctionnalité. À chaque fois qu’elle sera utilisée, on précisera son package d’origine au moyen de <code>::</code> (<code class="sourceCode r">base<span class="sc">::</span><span class="fu">as.Date</span>()</code> ou <code class="sourceCode r">zoo<span class="sc">::</span><span class="fu">as.Date</span>()</code>).</p>
</div>
</div>
</section><section id="définitions" class="level2" data-number="24.2"><h2 data-number="24.2" class="anchored" data-anchor-id="définitions">
<span class="header-section-number">24.2</span> Définitions</h2>
<section id="les-dates" class="level3" data-number="24.2.1"><h3 data-number="24.2.1" class="anchored" data-anchor-id="les-dates">
<span class="header-section-number">24.2.1</span> Les dates</h3>
<p>Une date en R signifie généralement un jour d’une année. Elle peut s’écrire sous différents formats :</p>
<table class="table">
<thead><tr class="header">
<th>Format</th>
<th>Type</th>
<th>Exemple (Noël 2023)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Format européen</td>
<td>JJ/MM/AAAA</td>
<td>25/12/2023</td>
</tr>
<tr class="even">
<td>Format américain</td>
<td>AAAA-MM-JJ</td>
<td>2023-12-25</td>
</tr>
</tbody>
</table>
<p>Une date peut aussi désigner un horaire ou un moment précis. On peut alors spécifier les heures, les minutes, les secondes.</p>
</section><section id="les-séries-temporelles" class="level3" data-number="24.2.2"><h3 data-number="24.2.2" class="anchored" data-anchor-id="les-séries-temporelles">
<span class="header-section-number">24.2.2</span> Les séries temporelles</h3>
<p>Une série temporelle est une données indexées sur le temps. Généralement on parle de séries mensuelles lorsque le pas entre chaque date est un mois mais on parle aussi de données annuelles, trimestrielles ou journalières voire plus haute fréquence.</p>
</section></section><section id="création-de-date" class="level2" data-number="24.3"><h2 data-number="24.3" class="anchored" data-anchor-id="création-de-date">
<span class="header-section-number">24.3</span> Création de date</h2>
<section id="le-format-date-en-r" class="level3" data-number="24.3.1"><h3 data-number="24.3.1" class="anchored" data-anchor-id="le-format-date-en-r">
<span class="header-section-number">24.3.1</span> Le format <code>Date</code> en R</h3>
<p>Pour créer une date en R, il suffit de faire appel à la fonction <code class="sourceCode r"><span class="fu">as.Date</span>()</code> du package <code>base</code>. Par défaut, l’argument format correspond au format américain :</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">M_Drucker_birth</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"1942-09-12"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Il suffit de le changer pour créer une date à partir d’un autre format :</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">noel_2023</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"25/12/2023"</span>, format <span class="op">=</span> <span class="st">"%d/%m/%Y"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La liste des formats de données est disponible sur la page d’aide de <code class="sourceCode r"><span class="fu">strptime</span>()</code> (accessible via <code class="sourceCode r"><span class="fu">help</span>(strptime)</code>).</p>
</section><section id="les-autres-formats-de-date-posixct-et-posixlt" class="level3" data-number="24.3.2"><h3 data-number="24.3.2" class="anchored" data-anchor-id="les-autres-formats-de-date-posixct-et-posixlt">
<span class="header-section-number">24.3.2</span> Les autres formats de date <code>POSIXct</code> et <code>POSIXlt</code>
</h3>
<p>Pour les horaires ou pour désigner un instant, il faut créer un objet de classe <code>POSIXt</code>. Pour cela, on peut utiliser les fonctions <code class="sourceCode r"><span class="fu">as.POSIXct</span>()</code> et <code class="sourceCode r"><span class="fu">as.POSIXlt</span>()</code>.</p>
<ul>
<li>La fonction <code class="sourceCode r"><span class="fu">as.POSIXct</span>()</code> (<strong>ct</strong> pour <strong>Calendar Time</strong>) va stocker la date sous la forme d’un nombre de secondes depuis le 1<sup>er</sup> janvier 1970.</li>
<li>La fonction <code class="sourceCode r"><span class="fu">as.POSIXlt</span>()</code> (<strong>lt</strong> pour <strong>List Time</strong>) va stocker la date sous la forme d’une liste contenant tous les composants de la date (année, mois, jour, heure…).</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pied_sur_la_lune</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"1969-07-21 02:56:20"</span>, </span>
<span>                               format <span class="op">=</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>, tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="les-différents-fuseaux-horaires" class="level3" data-number="24.3.3"><h3 data-number="24.3.3" class="anchored" data-anchor-id="les-différents-fuseaux-horaires">
<span class="header-section-number">24.3.3</span> Les différents fuseaux horaires</h3>
<p>Ici le fuseau horaire (argument <code>tz</code>) est fixé sur UTC (Coordinated Universal Time = Temps Universel Coordonné). Mais il est possible d’appliquer différents fuseaux horaires à un évènement.</p>
<p>Par exemple :</p>
<p>Neil Armstrong a posé le pied sur la lune le 1969-07-21 03:56:20 à Paris mais le 1969-07-20 19:56:20 à Los Angeles.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">heure_en_france</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">pied_sur_la_lune</span>, tz <span class="op">=</span> <span class="st">"Europe/Paris"</span><span class="op">)</span></span>
<span><span class="va">heure_los_angeles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">pied_sur_la_lune</span>, tz <span class="op">=</span> <span class="st">"America/Los_Angeles"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour connaître la liste des différents fuseaux horaires, il faut appeler la fonction <code class="sourceCode r"><span class="fu">OlsonNames</span>()</code> (du nom de l’Olson Database).</p>
</section><section id="gérer-les-changements-dheure" class="level3" data-number="24.3.4"><h3 data-number="24.3.4" class="anchored" data-anchor-id="gérer-les-changements-dheure">
<span class="header-section-number">24.3.4</span> Gérer les changements d’heure</h3>
<p>En France, depuis 1979, on avance d’une heure en mars pour l’heure d’été. Ainsi le fuseau horaire européen est un peu plus compliqué que le fuseau UTC (qui est linéaire tout au long de l’année).</p>
<p>Il suit 2 fuseaux :</p>
<ul>
<li>le CET (<em>Central European Time</em>) correspond à l’heure <em>d’hiver</em>. Cela vaut UTC+1.</li>
<li>En été, on utilise le CEST (<em>Central European Summer Time</em>), qui est à UTC+2.</li>
</ul>
<p>On entend aussi parler de GMT (Greenwich Mean Time) qui correspond à l’heure de Greenwich. Aujourd’hui, c’est l’heure UTC (même fuseau que GMT) qui est la référence.</p>
<p>R gère en interne <strong>automatiquement</strong> les changements d’horaire à partir des fuseaux horaires.</p>
<ul>
<li>Par exemple en hiver (CET = UTC+1) :</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># définition en date et heure locale avec le bon fuseau horaire</span></span>
<span><span class="va">chute_mur_berlin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"1989-11-09 18:00"</span>, tz <span class="op">=</span> <span class="st">"Europe/Berlin"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Heure locale</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">chute_mur_berlin</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1989-11-09 18:00:00 CET"</code></pre>
</div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Heure UTC (exemple en islande)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="va">chute_mur_berlin</span>, tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1989-11-09 17:00:00 UTC"</code></pre>
</div>
</div>
<ul>
<li>En été (CEST = UTC+2) :</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># définition en date et heure locale avec le bon fuseau horaire</span></span>
<span><span class="va">victoire_fifa_1998</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"1998-07-12 21:00"</span>, tz <span class="op">=</span> <span class="st">"Europe/Paris"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Heure locale</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">victoire_fifa_1998</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1998-07-12 21:00:00 CEST"</code></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Heure UTC (exemple au Burkina Faso)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="va">victoire_fifa_1998</span>, tz <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1998-07-12 19:00:00 UTC"</code></pre>
</div>
</div>
</section></section><section id="autres-fonctions" class="level2" data-number="24.4"><h2 data-number="24.4" class="anchored" data-anchor-id="autres-fonctions">
<span class="header-section-number">24.4</span> Autres fonctions</h2>
<section id="formater-une-date-avec-la-fonction-format" class="level3" data-number="24.4.1"><h3 data-number="24.4.1" class="anchored" data-anchor-id="formater-une-date-avec-la-fonction-format">
<span class="header-section-number">24.4.1</span> Formater une date avec la fonction <code class="sourceCode r"><span class="fu">format</span>()</code>
</h3>
<p>La fonction <code class="sourceCode r"><span class="fu">format</span>()</code> est utile avec les dates car elle permet de formater une date selon <em>n’importe quelle</em> représentation.</p>
<p>Par exemple pour des dates :</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># On prend la date d'aujourd'hui</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"Nous sommes le %A %d %B %Y."</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Nous sommes le Monday 27 May 2024."</code></pre>
</div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"Date du jour : %x"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Date du jour : 05/27/2024"</code></pre>
</div>
</div>
<p>Par exemple pour des temps :</p>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># On prend la date d'aujourd'hui</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"Nous sommes le %d %B %Y et il est %Hh%M et %Ss."</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Nous sommes le 27 May 2024 et il est 14h11 et 28s."</code></pre>
</div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"Il s'est écoulé %ss depuis le 1er janvier 1970."</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Il s'est écoulé 1716819088s depuis le 1er janvier 1970."</code></pre>
</div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"Heure : %X"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Heure : 02:11:28 PM"</code></pre>
</div>
</div>
<p>La liste des formats de données est disponible sur la page d’aide de <code class="sourceCode r"><span class="fu">strptime</span>()</code> (accessible via <code class="sourceCode r"><span class="fu">help</span>(strptime)</code>).</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Les normes ISO8601 et RFC3339
</div>
</div>
<div class="callout-body-container callout-body">
<p>Les normes ISO8601 et RFC3339 sont des conventions de représentation des dates. Selon ces 2 normes, certains formats de dates sont acceptés ou non.</p>
<p>Par exemple, voici quelques formats représentant la date du 24 mai 2023 à 8h43 (UTC) :</p>
<ul>
<li>
<code class="sourceCode r"><span class="st">"2023-05-24T08:43:00Z"</span></code> ou <code class="sourceCode r"><span class="st">"2023-05-24T08:43:00+08:00"</span></code> sont des formats acceptés par ces 2 normes.</li>
<li>
<code class="sourceCode r"><span class="st">"2023-05-24t08:43:00z"</span></code> est un format accepté uniquement par la norme RFC3339.</li>
<li>
<code class="sourceCode r"><span class="st">"2023-05-24T08:43Z"</span></code> est un format accepté uniquement par la norme ISO8601.</li>
</ul>
<p>Pour savoir quels formats sont acceptés par ces normes, une infographie est disponible <a href="https://ijmacd.github.io/rfc3339-iso8601/">ici</a> : https://ijmacd.github.io/rfc3339-iso8601/.</p>
<p>On peut aussi utiliser le package <code>parsedate</code> qui permet de lire une date au format ISO8601</p>
<div class="cell">
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/gaborcsardi/parsedate">"parsedate"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span><span class="op">(</span><span class="st">"2023-05-24T08:43:00+08:00"</span><span class="op">)</span> <span class="co"># Accepté par ISO8601</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-24 00:43:00 UTC"</code></pre>
</div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span><span class="op">(</span><span class="st">"2023-05-24t08:43:00z"</span><span class="op">)</span> <span class="co"># Refusé par ISO8601</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span><span class="op">(</span><span class="st">"2023-05-24T08:43Z"</span><span class="op">)</span> <span class="co"># Accepté par ISO8601</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-24 08:43:00 UTC"</code></pre>
</div>
</div>
</div>
</div>
</section><section id="paramètres-régionaux" class="level3" data-number="24.4.2"><h3 data-number="24.4.2" class="anchored" data-anchor-id="paramètres-régionaux">
<span class="header-section-number">24.4.2</span> Paramètres régionaux</h3>
<p>Pour obtenir des dates, d’autres fonctions existent comme :</p>
<ul>
<li>
<code class="sourceCode r"><span class="fu">Sys.Date</span>()</code> pour connaitre la date du jour,</li>
<li>
<code class="sourceCode r"><span class="fu">Sys.time</span>()</code> pour connaitre l’horaire actuel (date + heure),</li>
<li>
<code class="sourceCode r"><span class="fu">Sys.timezone</span>()</code> pour le fuseau horaire actuel.</li>
</ul>
<p>Il peut être utile de vouloir changer les paramètres régionaux sous R. Pour cela, il faut faire appel à la fonction <code class="sourceCode r"><span class="fu">Sys.setlocale</span>()</code></p>
<div class="cell">
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Paramètres locaux en France</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.setlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span>, <span class="st">"fr_FR.UTF-8"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in Sys.setlocale("LC_TIME", "fr_FR.UTF-8"): OS reports request to set
locale to "fr_FR.UTF-8" cannot be honored</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ""</code></pre>
</div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"%c"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mon 27 May 2024 02:11:28 PM UTC"</code></pre>
</div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Paramètres locaux aux USA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/locales.html">Sys.setlocale</a></span><span class="op">(</span><span class="st">"LC_TIME"</span>, <span class="st">"en_US"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in Sys.setlocale("LC_TIME", "en_US"): OS reports request to set locale
to "en_US" cannot be honored</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] ""</code></pre>
</div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/format.html">format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.time</a></span><span class="op">(</span><span class="op">)</span>, format <span class="op">=</span> <span class="st">"%c"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mon 27 May 2024 02:11:28 PM UTC"</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>La fonction <code class="sourceCode r"><span class="fu">Sys.setlocale</span>()</code> a un impact sur l’affichage mais pas sur la valeur de l’objet. Ainsi, cela ne change pas le fuseau horaire (par exemple).</p>
</div>
</div>
</section></section><section id="création-de-vecteur-de-date" class="level2" data-number="24.5"><h2 data-number="24.5" class="anchored" data-anchor-id="création-de-vecteur-de-date">
<span class="header-section-number">24.5</span> Création de vecteur de date</h2>
<p>Pour créer un vecteur de date, il faut utiliser la fonction <code class="sourceCode r"><span class="fu">seq</span>()</code>.</p>
<p>Les arguments de cette fonction sont :</p>
<ul>
<li>
<code>from</code> : une date de départ</li>
<li>
<code>to</code> : une date d’arrivée</li>
<li>
<code>by</code> : un pas</li>
<li>
<code>length.out</code> : une longueur</li>
</ul>
<p><code>from</code> est obligatoire et il faut préciser au moins 2 autres arguments parmi les 3 restants.</p>
<p>Exemple :</p>
<div class="cell">
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">date1</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2016-02-29"</span><span class="op">)</span></span>
<span><span class="va">date2</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2021-10-02"</span><span class="op">)</span></span>
<span><span class="va">date3</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2023-08-15"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">date1</span>, to <span class="op">=</span> <span class="va">date3</span>, by <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2016-02-29" "2017-03-01" "2018-03-01" "2019-03-01" "2020-02-29"
[6] "2021-03-01" "2022-03-01" "2023-03-01"</code></pre>
</div>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">date2</span>, to <span class="op">=</span> <span class="va">date3</span>, by <span class="op">=</span> <span class="st">"quarter"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2021-10-02" "2022-01-02" "2022-04-02" "2022-07-02" "2022-10-02"
[6] "2023-01-02" "2023-04-02" "2023-07-02"</code></pre>
</div>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">time1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-05-26 15:00"</span><span class="op">)</span></span>
<span><span class="va">time2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-05-26 20:59:47"</span><span class="op">)</span></span>
<span><span class="va">time3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-05-26 21:00"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">time1</span>, to <span class="op">=</span> <span class="va">time3</span>, by <span class="op">=</span> <span class="st">"hour"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-26 15:00:00 UTC" "2023-05-26 16:00:00 UTC"
[3] "2023-05-26 17:00:00 UTC" "2023-05-26 18:00:00 UTC"
[5] "2023-05-26 19:00:00 UTC" "2023-05-26 20:00:00 UTC"
[7] "2023-05-26 21:00:00 UTC"</code></pre>
</div>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">time2</span>, to <span class="op">=</span> <span class="va">time3</span>, by <span class="op">=</span> <span class="st">"sec"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2023-05-26 20:59:47 UTC" "2023-05-26 20:59:48 UTC"
 [3] "2023-05-26 20:59:49 UTC" "2023-05-26 20:59:50 UTC"
 [5] "2023-05-26 20:59:51 UTC" "2023-05-26 20:59:52 UTC"
 [7] "2023-05-26 20:59:53 UTC" "2023-05-26 20:59:54 UTC"
 [9] "2023-05-26 20:59:55 UTC" "2023-05-26 20:59:56 UTC"
[11] "2023-05-26 20:59:57 UTC" "2023-05-26 20:59:58 UTC"
[13] "2023-05-26 20:59:59 UTC" "2023-05-26 21:00:00 UTC"</code></pre>
</div>
</div>
</section><section id="autres-objets-de-la-famille-des-dates" class="level2" data-number="24.6"><h2 data-number="24.6" class="anchored" data-anchor-id="autres-objets-de-la-famille-des-dates">
<span class="header-section-number">24.6</span> Autres objets de la famille des dates</h2>
<section id="les-objets-difftime" class="level3" data-number="24.6.1"><h3 data-number="24.6.1" class="anchored" data-anchor-id="les-objets-difftime">
<span class="header-section-number">24.6.1</span> Les objets <code>difftime</code>
</h3>
<p>Le objets de classe <code>difftime</code> représentent des durées.</p>
<div class="cell">
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="va">M_Drucker_birth</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 29843 days</code></pre>
</div>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/difftime.html">difftime</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">M_Drucker_birth</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 29843 days</code></pre>
</div>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Changement d'heure</span></span>
<span><span class="va">heure_hiver</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-03-26 01:00"</span>, tz <span class="op">=</span> <span class="st">"Europe/Paris"</span><span class="op">)</span></span>
<span><span class="va">heure_ete</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-03-26 03:00"</span>, tz <span class="op">=</span> <span class="st">"Europe/Paris"</span><span class="op">)</span></span>
<span><span class="va">heure_ete</span> <span class="op">-</span> <span class="va">heure_hiver</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 1 hours</code></pre>
</div>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Voyage sur différents fuseaux horaires</span></span>
<span><span class="va">decollage_paris</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-07-20 10:30"</span>, tz <span class="op">=</span> <span class="st">"Europe/Paris"</span><span class="op">)</span></span>
<span><span class="va">arrivee_toronto</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2023-07-20 01:00 PM"</span>, </span>
<span>                    format <span class="op">=</span> <span class="st">"%Y-%m-%d %I:%M %p"</span>, </span>
<span>                    tz <span class="op">=</span> <span class="st">"America/Toronto"</span><span class="op">)</span></span>
<span><span class="va">arrivee_toronto</span> <span class="op">-</span> <span class="va">decollage_paris</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 8.5 hours</code></pre>
</div>
</div>
<p>Avec la fonction <code class="sourceCode r"><span class="fu">units</span>()</code>, on peut changer l’unité de la durée.</p>
<div class="cell">
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># En minutes</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html">units</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"mins"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 42973920 mins</code></pre>
</div>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># En semaines</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/units.html">units</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"weeks"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 4263.286 weeks</code></pre>
</div>
</div>
<p>Le package <code>lubridate</code> propose aussi d’autres formatages des durées :</p>
<div class="cell">
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://lubridate.tidyverse.org">"lubridate"</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'lubridate'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    date, intersect, setdiff, union</code></pre>
</div>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/time_length.html">time_length</a></span><span class="op">(</span><span class="va">age</span>, unit <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 81.70568</code></pre>
</div>
</div>
</section><section id="fonctionnalités-avancées-avec-lubridate" class="level3" data-number="24.6.2"><h3 data-number="24.6.2" class="anchored" data-anchor-id="fonctionnalités-avancées-avec-lubridate">
<span class="header-section-number">24.6.2</span> Fonctionnalités avancées avec <code>lubridate</code>
</h3>
<p>Le package <code>lubridate</code> propose des fonctions de lecture de date semblables aux fonctions (<code class="sourceCode r">base<span class="sc">::</span><span class="fu">as.Date</span>()</code>, <code class="sourceCode r"><span class="fu">format</span>()</code>, <code class="sourceCode r"><span class="fu">as.POSIXct</span>()</code>)</p>
<p>On peut résumer les équivalences des principales fonctions dans le tableau ci-dessous :</p>
<table class="table">
<colgroup>
<col style="width: 37%">
<col style="width: 37%">
<col style="width: 25%">
</colgroup>
<thead><tr class="header">
<th>Fonction <code>lubridate</code>
</th>
<th>Équivalent R <code>base</code>
</th>
<th>Type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<code class="sourceCode r"><span class="fu">today</span>()</code>, <code class="sourceCode r"><span class="fu">now</span>()</code>
</td>
<td>
<code class="sourceCode r"><span class="fu">Sys.Date</span>()</code>, <code class="sourceCode r"><span class="fu">Sys.time</span>()</code>
</td>
<td>Création de date</td>
</tr>
<tr class="even">
<td>
<code class="sourceCode r"><span class="fu">years</span>()</code>, <code class="sourceCode r"><span class="fu">weeks</span>()</code>, <code class="sourceCode r"><span class="fu">hours</span>()</code>, <code class="sourceCode r"><span class="fu">seconds</span>()</code> …</td>
<td>-</td>
<td>Création de durée</td>
</tr>
<tr class="odd">
<td><code class="sourceCode r"><span class="fu">with_tz</span>()</code></td>
<td>
<code class="sourceCode r">base<span class="sc">::</span><span class="fu">as.Date</span>()</code> ou <code class="sourceCode r"><span class="fu">as.POSIXct</span>()</code> avec l’argument <code>ts</code>
</td>
<td>Modification d’une date</td>
</tr>
<tr class="even">
<td>
<code class="sourceCode r"><span class="fu">ymd</span>()</code>, <code class="sourceCode r"><span class="fu">ydm_hm</span>()</code>, …</td>
<td>
<code class="sourceCode r">base<span class="sc">::</span><span class="fu">as.Date</span>()</code> ou <code class="sourceCode r"><span class="fu">as.POSIXct</span>()</code>
</td>
<td>Lecture de date</td>
</tr>
</tbody>
</table>
<p>Les fonctions de création de durée permettent de modifier et décaler les dates.</p>
<p>Une date au format <code>Date</code> est stockée sous la forme d’un nombre de jours ainsi :</p>
<div class="cell">
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># En R base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">5L</span> <span class="co"># Date dans 5 jours</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-06-01"</code></pre>
</div>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Avec lubridate</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html">days</a></span><span class="op">(</span><span class="fl">5L</span><span class="op">)</span> <span class="co"># Date dans 5 jours</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-06-01"</code></pre>
</div>
</div>
<p>Par exemple, si je veux avoir la même date il y a 5 ou 4 ans :</p>
<div class="cell">
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fev_29</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="st">"2016-02-29"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Il y a 5 ans, 29 fevrier 2011 n'existe pas :</span></span>
<span><span class="va">fev_29</span> <span class="op">-</span> <span class="fl">365.2425</span> <span class="op">*</span> <span class="fl">5</span> <span class="co"># Pas exactement la même date</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2011-02-28"</code></pre>
</div>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fev_29</span> <span class="op">-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html">years</a></span><span class="op">(</span><span class="fl">5L</span><span class="op">)</span> <span class="co"># Calcul impossible</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Il y a 4 ans :</span></span>
<span><span class="va">fev_29</span> <span class="op">-</span> <span class="fl">365.2425</span> <span class="op">*</span> <span class="fl">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-02-29"</code></pre>
</div>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">fev_29</span> <span class="op">-</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html">years</a></span><span class="op">(</span><span class="fl">4L</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-02-29"</code></pre>
</div>
</div>
</section></section><section id="les-séries-temporelles-en-r" class="level2" data-number="24.7"><h2 data-number="24.7" class="anchored" data-anchor-id="les-séries-temporelles-en-r">
<span class="header-section-number">24.7</span> Les séries temporelles en R</h2>
<section id="créer-une-série-temporelle" class="level3" data-number="24.7.1"><h3 data-number="24.7.1" class="anchored" data-anchor-id="créer-une-série-temporelle">
<span class="header-section-number">24.7.1</span> Créer une série temporelle</h3>
<p>Pour créer une série temporelle, on utilise la fonction <code class="sourceCode r"><span class="fu">ts</span>()</code> du package <code>stats</code>. L’argument <code>frequency</code> est le nombre de période en 1 an.</p>
<div class="cell">
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Pour une série annuelle, frequency = 1L</span></span>
<span><span class="va">serie_annuelle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html">ts</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, start <span class="op">=</span> <span class="fl">2003L</span>, frequency <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pour une série trimestrielle, frequency = 4L</span></span>
<span><span class="va">serie_trimestrielle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html">ts</a></span><span class="op">(</span><span class="fl">21</span><span class="op">:</span><span class="fl">40</span>, end <span class="op">=</span> <span class="fl">2023L</span>, frequency <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pour une série mensuelle, frequency = 12L</span></span>
<span><span class="va">serie_mensuelle</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html">ts</a></span><span class="op">(</span><span class="fl">41</span><span class="op">:</span><span class="fl">60</span>, start <span class="op">=</span> <span class="fl">2020L</span>, frequency <span class="op">=</span> <span class="fl">12L</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
⚠️ Attention ⚠️
</div>
</div>
<div class="callout-body-container callout-body">
<p>La fonction <code class="sourceCode r"><span class="fu">ts</span>()</code> du package <code>stats</code> n’est pas faite pour fonctionner avec des fréquences non entières.</p>
</div>
</div>
</section><section id="autres-formats-de-dates" class="level3" data-number="24.7.2"><h3 data-number="24.7.2" class="anchored" data-anchor-id="autres-formats-de-dates">
<span class="header-section-number">24.7.2</span> Autres formats de dates</h3>
<p>Les objets <code>ts</code> fonctionnent aussi avec des dates mais dans un format différent. Pour délimiter notre série temporelle, il faut utiliser les arguments <code>start</code> et/ou <code>end</code> ainsi qu’une fréquence (entière).</p>
<p>Les arguments <code>start</code> et <code>end</code> doivent être au format <code>AAAA</code>, <code>c(AAAA, PP)</code> ou <code>AAAA + (PP - 1)/T</code>, avec :</p>
<ul>
<li>
<code>AAAA</code> l’année en 4 caractère</li>
<li>et <code>PP</code> le numéro de la période (dépendant de la fréquence)</li>
<li>et <code>T</code> la fréquence de la série</li>
</ul>
<p>Plus d’informations sur la page d’aide de la fonction <code class="sourceCode r"><span class="fu">start</span>()</code> (accessible via <code class="sourceCode r"><span class="fu">help</span>(start)</code>).</p>
<p>Ces formats ne sont lisibles qu’avec la fréquence.</p>
<p>Exemple :</p>
<ul>
<li>Pour <code class="sourceCode r">frequency <span class="ot">=</span> <span class="dv">4</span>L</code>, <code class="sourceCode r"><span class="dv">2021</span>L</code> et <code class="sourceCode r"><span class="fu">c</span>(<span class="dv">2021</span>L, <span class="dv">1</span>L)</code> représentent la même date (1er trimestre 2021)</li>
<li>Pour <code class="sourceCode r">frequency <span class="ot">=</span> <span class="dv">12</span>L</code>, <code class="sourceCode r"><span class="dv">2019</span> <span class="sc">+</span> <span class="dv">3</span><span class="sc">/</span><span class="dv">12</span> <span class="ot">=</span> <span class="fl">2019.25</span></code> et <code class="sourceCode r"><span class="fu">c</span>(<span class="dv">2019</span>L, <span class="dv">4</span>L)</code> représentent la même date</li>
</ul>
<p>Ainsi <code class="sourceCode r"><span class="fu">c</span>(<span class="dv">2020</span>L, <span class="dv">5</span>L)</code> désigne mai 2020 pour des séries mensuelles (<code class="sourceCode r">frequency <span class="ot">=</span> <span class="dv">12</span>L</code>) mais le 1<sup>er</sup> trimestre 2021 pour des séries trimestrielles (<code class="sourceCode r">frequency <span class="ot">=</span> <span class="dv">4</span>L</code>).</p>
</section><section id="fonctions-des-objets-ts" class="level3" data-number="24.7.3"><h3 data-number="24.7.3" class="anchored" data-anchor-id="fonctions-des-objets-ts">
<span class="header-section-number">24.7.3</span> Fonctions des objets <code>ts</code>
</h3>
<p>Pour obtenir des informations sur un objet <code>ts</code>, on peut utiliser les fonctions suivantes :</p>
<ul>
<li>
<code class="sourceCode r"><span class="fu">start</span>()</code> : retourne la date de début de la série,</li>
<li>
<code class="sourceCode r"><span class="fu">end</span>()</code> : retourne la date de fin de la série,</li>
<li>
<code class="sourceCode r"><span class="fu">frequency</span>()</code> : retourne la fréquence de la série,</li>
<li>et <code class="sourceCode r"><span class="fu">time</span>()</code> : retourne le vecteur de date indexant la série temporelle</li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/start.html">start</a></span><span class="op">(</span><span class="va">serie_mensuelle</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2020    1</code></pre>
</div>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/start.html">end</a></span><span class="op">(</span><span class="va">serie_mensuelle</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2021    8</code></pre>
</div>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">frequency</a></span><span class="op">(</span><span class="va">serie_mensuelle</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">serie_mensuelle</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
2020 2020.000 2020.083 2020.167 2020.250 2020.333 2020.417 2020.500 2020.583
2021 2021.000 2021.083 2021.167 2021.250 2021.333 2021.417 2021.500 2021.583
          Sep      Oct      Nov      Dec
2020 2020.667 2020.750 2020.833 2020.917
2021                                    </code></pre>
</div>
</div>
<p>Les dates en output de <code class="sourceCode r"><span class="fu">time</span>()</code> sont au format ts et non au format <code>Date</code>. Pour les convertir, il faut utiliser la fonction <code class="sourceCode r">zoo<span class="sc">::</span><span class="fu">as.Date</span>()</code> :</p>
<div class="cell">
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://zoo.R-Forge.R-project.org/">"zoo"</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">serie_mensuelle</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2020-01-01" "2020-02-01" "2020-03-01" "2020-04-01" "2020-05-01"
 [6] "2020-06-01" "2020-07-01" "2020-08-01" "2020-09-01" "2020-10-01"
[11] "2020-11-01" "2020-12-01" "2021-01-01" "2021-02-01" "2021-03-01"
[16] "2021-04-01" "2021-05-01" "2021-06-01" "2021-07-01" "2021-08-01"</code></pre>
</div>
</div>
</section><section id="séries-hautes-fréquences-avec-zoo" class="level3" data-number="24.7.4"><h3 data-number="24.7.4" class="anchored" data-anchor-id="séries-hautes-fréquences-avec-zoo">
<span class="header-section-number">24.7.4</span> Séries hautes fréquences avec <code>zoo</code>
</h3>
<p>Le package <code>zoo</code> a d’autres utilités, notamment gérer les séries haute-fréquence.</p>
<p>On peut construire des séries journalières :</p>
<div class="cell">
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#data : https://www.letour.fr/fr/parcours-general</span></span>
<span><span class="va">date_tour_de_france</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="st">"2023-06-29"</span><span class="op">)</span>, </span>
<span>                           to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="st">"2023-07-21"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"day"</span><span class="op">)</span></span>
<span><span class="va">kilometre_etape</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">182</span>, <span class="fl">209</span>, <span class="fl">193.5</span>, <span class="fl">182</span>, <span class="fl">163</span>, <span class="fl">145</span>, <span class="fl">170</span>, <span class="fl">201</span>, </span>
<span>                     <span class="fl">182.5</span>, <span class="fl">0</span>, <span class="fl">167.5</span>, <span class="fl">180</span>, <span class="fl">169</span>, <span class="fl">138</span>, <span class="fl">152</span>, <span class="fl">179</span>, </span>
<span>                     <span class="fl">0</span>, <span class="fl">22.4</span>, <span class="fl">166</span>, <span class="fl">185</span>, <span class="fl">173</span>, <span class="fl">133.5</span>, <span class="fl">115.5</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tour_de_france_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/zoo.html">zoo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">kilometre_etape</span>, </span>
<span>                         order.by <span class="op">=</span> <span class="va">date_tour_de_france</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>On peut construire des séries infra-journalières (heure par heure ou encore plus haute-fréquence) :</p>
<div class="cell">
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co">#data : https://joint-research-centre.ec.europa.eu/photovoltaic-geographical-information-system-pvgis/pvgis-tools/hourly-radiation_en</span></span>
<span><span class="va">heures_journee</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2016-07-01 00:10:00"</span><span class="op">)</span>, </span>
<span>                           to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2016-07-01 23:10:00"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"hours"</span><span class="op">)</span></span>
<span><span class="va">temperature</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19.42</span>, <span class="fl">19.21</span>, <span class="fl">18.99</span>, <span class="fl">18.78</span>, <span class="fl">19.71</span>, <span class="fl">20.64</span>, <span class="fl">21.57</span>, <span class="fl">22.82</span>, </span>
<span>                 <span class="fl">24.06</span>, <span class="fl">25.31</span>, <span class="fl">26.25</span>, <span class="fl">27.19</span>, <span class="fl">28.12</span>, <span class="fl">28.44</span>, <span class="fl">28.75</span>, <span class="fl">29.06</span>, </span>
<span>                 <span class="fl">28.22</span>, <span class="fl">27.38</span>, <span class="fl">26.54</span>, <span class="fl">24.81</span>, <span class="fl">23.08</span>, <span class="fl">21.35</span>, <span class="fl">21.02</span>, <span class="fl">20.69</span><span class="op">)</span></span>
<span></span>
<span><span class="va">temp_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/zoo.html">zoo</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">temperature</span>, </span>
<span>               order.by <span class="op">=</span> <span class="va">heures_journee</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="afficher-des-séries-temporelles" class="level2" data-number="24.8"><h2 data-number="24.8" class="anchored" data-anchor-id="afficher-des-séries-temporelles">
<span class="header-section-number">24.8</span> Afficher des séries temporelles</h2>
<p>Plusieurs packages permettent l’affichage des séries temporelles.</p>
<section id="classique-plot" class="level3" data-number="24.8.1"><h3 data-number="24.8.1" class="anchored" data-anchor-id="classique-plot">
<span class="header-section-number">24.8.1</span> Classique <code class="sourceCode r"><span class="fu">plot</span>()</code>
</h3>
<p>La fonction <code class="sourceCode r"><span class="fu">plot</span>()</code> du package <code>graphics</code> (méthode <code class="sourceCode r"><span class="fu">plot.ts</span>()</code> du package <code>stats</code>) permet d’afficher simplement des séries temporelles :</p>
<div class="cell">
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">tour_de_france_ts</span>, col <span class="op">=</span> <span class="st">"blue"</span>, </span>
<span>     ylab <span class="op">=</span> <span class="st">"Distance (en km)"</span>, xlab <span class="op">=</span> <span class="st">"Time"</span>, </span>
<span>     main <span class="op">=</span> <span class="st">"Distance parcourue par jour (TDF 2023)"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="Fiche_donnees_temporelles_files/figure-html/plot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">temp_ts</span>, col <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>     main <span class="op">=</span> <span class="st">"Temperature"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="Fiche_donnees_temporelles_files/figure-html/plot-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section id="package-ggplot2" class="level3" data-number="24.8.2"><h3 data-number="24.8.2" class="anchored" data-anchor-id="package-ggplot2">
<span class="header-section-number">24.8.2</span> Package <code>ggplot2</code>
</h3>
<p>Le package <code>ggplot2</code> propose une grande variété de graphiques. Il est nécessaire au préalable de convertir l’objet en <code>data.frame</code> pour construire le graphique.</p>
<div class="cell">
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org">"ggplot2"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sunspots_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/time.html">time</a></span><span class="op">(</span><span class="va">sunspots</span><span class="op">)</span>, value <span class="op">=</span> <span class="va">sunspots</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">sunspots_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">date</span>, y<span class="op">=</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Don't know how to automatically pick scale for object of type &lt;ts&gt;. Defaulting
to continuous.
Don't know how to automatically pick scale for object of type &lt;ts&gt;. Defaulting
to continuous.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="Fiche_donnees_temporelles_files/figure-html/ggplot2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Pour plus d’informations sur l’utilisation de <code>ggplot2</code>, voir la <a href="https://book.utilitr.org/03_fiches_thematiques/fiche_graphiques">fiche sur les graphiques</a></p>
</section><section id="package-dygraphs" class="level3" data-number="24.8.3"><h3 data-number="24.8.3" class="anchored" data-anchor-id="package-dygraphs">
<span class="header-section-number">24.8.3</span> Package <code>dygraphs</code>
</h3>
<p>Le package <code>dygraphs</code> propose aussi des graphiques pour séries temporelles. L’avantage de ce package est l’interactivité et la possibilité de zoomer dans les graphiques.</p>
<div class="cell">
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rstudio/dygraphs">"dygraphs"</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/dygraphs/man/dygraph.html">dygraph</a></span><span class="op">(</span><span class="va">temp_ts</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-54d7c9900771d7b75a16" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-54d7c9900771d7b75a16">{"x":{"attrs":{"labels":["hour","V1"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}}},"scale":"hourly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2016-07-01T00:10:00.000Z","2016-07-01T01:10:00.000Z","2016-07-01T02:10:00.000Z","2016-07-01T03:10:00.000Z","2016-07-01T04:10:00.000Z","2016-07-01T05:10:00.000Z","2016-07-01T06:10:00.000Z","2016-07-01T07:10:00.000Z","2016-07-01T08:10:00.000Z","2016-07-01T09:10:00.000Z","2016-07-01T10:10:00.000Z","2016-07-01T11:10:00.000Z","2016-07-01T12:10:00.000Z","2016-07-01T13:10:00.000Z","2016-07-01T14:10:00.000Z","2016-07-01T15:10:00.000Z","2016-07-01T16:10:00.000Z","2016-07-01T17:10:00.000Z","2016-07-01T18:10:00.000Z","2016-07-01T19:10:00.000Z","2016-07-01T20:10:00.000Z","2016-07-01T21:10:00.000Z","2016-07-01T22:10:00.000Z","2016-07-01T23:10:00.000Z"],[19.42,19.21,18.99,18.78,19.71,20.64,21.57,22.82,24.06,25.31,26.25,27.19,28.12,28.44,28.75,29.06,28.22,27.38,26.54,24.81,23.08,21.35,21.02,20.69]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>On peut aussi afficher plusieurs courbes sur le même graphique :</p>
<div class="cell">
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/dygraphs/man/dygraph.html">dygraph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">fdeaths</span>, <span class="va">mdeaths</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="dygraphs html-widget html-fill-item" id="htmlwidget-a1e3526371578a24102a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a1e3526371578a24102a">{"x":{"attrs":{"labels":["month","fdeaths","mdeaths"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}}},"scale":"monthly","annotations":[],"shadings":[],"events":[],"format":"date","data":[["1974-01-01T00:00:00.000Z","1974-02-01T00:00:00.000Z","1974-03-01T00:00:00.000Z","1974-04-01T00:00:00.000Z","1974-05-01T00:00:00.000Z","1974-06-01T00:00:00.000Z","1974-07-01T00:00:00.000Z","1974-08-01T00:00:00.000Z","1974-09-01T00:00:00.000Z","1974-10-01T00:00:00.000Z","1974-11-01T00:00:00.000Z","1974-12-01T00:00:00.000Z","1975-01-01T00:00:00.000Z","1975-02-01T00:00:00.000Z","1975-03-01T00:00:00.000Z","1975-04-01T00:00:00.000Z","1975-05-01T00:00:00.000Z","1975-06-01T00:00:00.000Z","1975-07-01T00:00:00.000Z","1975-08-01T00:00:00.000Z","1975-09-01T00:00:00.000Z","1975-10-01T00:00:00.000Z","1975-11-01T00:00:00.000Z","1975-12-01T00:00:00.000Z","1976-01-01T00:00:00.000Z","1976-02-01T00:00:00.000Z","1976-03-01T00:00:00.000Z","1976-04-01T00:00:00.000Z","1976-05-01T00:00:00.000Z","1976-06-01T00:00:00.000Z","1976-07-01T00:00:00.000Z","1976-08-01T00:00:00.000Z","1976-09-01T00:00:00.000Z","1976-10-01T00:00:00.000Z","1976-11-01T00:00:00.000Z","1976-12-01T00:00:00.000Z","1977-01-01T00:00:00.000Z","1977-02-01T00:00:00.000Z","1977-03-01T00:00:00.000Z","1977-04-01T00:00:00.000Z","1977-05-01T00:00:00.000Z","1977-06-01T00:00:00.000Z","1977-07-01T00:00:00.000Z","1977-08-01T00:00:00.000Z","1977-09-01T00:00:00.000Z","1977-10-01T00:00:00.000Z","1977-11-01T00:00:00.000Z","1977-12-01T00:00:00.000Z","1978-01-01T00:00:00.000Z","1978-02-01T00:00:00.000Z","1978-03-01T00:00:00.000Z","1978-04-01T00:00:00.000Z","1978-05-01T00:00:00.000Z","1978-06-01T00:00:00.000Z","1978-07-01T00:00:00.000Z","1978-08-01T00:00:00.000Z","1978-09-01T00:00:00.000Z","1978-10-01T00:00:00.000Z","1978-11-01T00:00:00.000Z","1978-12-01T00:00:00.000Z","1979-01-01T00:00:00.000Z","1979-02-01T00:00:00.000Z","1979-03-01T00:00:00.000Z","1979-04-01T00:00:00.000Z","1979-05-01T00:00:00.000Z","1979-06-01T00:00:00.000Z","1979-07-01T00:00:00.000Z","1979-08-01T00:00:00.000Z","1979-09-01T00:00:00.000Z","1979-10-01T00:00:00.000Z","1979-11-01T00:00:00.000Z","1979-12-01T00:00:00.000Z"],[901,689,827,677,522,406,441,393,387,582,578,666,830,752,785,664,467,438,421,412,343,440,531,771,767,1141,896,532,447,420,376,330,357,445,546,764,862,660,663,643,502,392,411,348,387,385,411,638,796,853,737,546,530,446,431,362,387,430,425,679,821,785,727,612,478,429,405,379,393,411,487,574],[2134,1863,1877,1877,1492,1249,1280,1131,1209,1492,1621,1846,2103,2137,2153,1833,1403,1288,1186,1133,1053,1347,1545,2066,2020,2750,2283,1479,1189,1160,1113,970,999,1208,1467,2059,2240,1634,1722,1801,1246,1162,1087,1013,959,1179,1229,1655,2019,2284,1942,1423,1340,1187,1098,1004,970,1140,1110,1812,2263,1820,1846,1531,1215,1075,1056,975,940,1081,1294,1341]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section><section id="pour-en-savoir-plus" class="level2" data-number="24.9"><h2 data-number="24.9" class="anchored" data-anchor-id="pour-en-savoir-plus">
<span class="header-section-number">24.9</span> Pour en savoir plus</h2>
<ul>
<li>
<a href="https://github.com/IJMacD/rfc3339-iso8601">Formats acceptés par les normes ISO8601 et RFC3339</a> ;</li>
<li>
<a href="https://r-graph-gallery.com/317-time-series-with-the-dygraphs-library.html">Galerie de graphique avec <code>dygraph</code></a> ;</li>
<li>
<a href="https://rstudio.github.io/dygraphs/">Manuel d’utilisation package <code>dygraph</code></a> ;</li>
<li>
<a href="https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html">Les séries temporelles en <code>ggplot2</code></a> ;</li>
</ul>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../03_Fiches_thematiques/Fiche_donnees_spatiales.html" class="pagination-link  aria-label=" des="" donn="" spatiales="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Manipuler des données spatiales</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../03_Fiches_thematiques/Fiche_analyse_de_donnees.html" class="pagination-link" aria-label="<span class='chapter-number'>25</span>&nbsp; <span class='chapter-title'>L'analyse de données (ACP, ACM, ACF...)</span>">
        <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">L’analyse de données (ACP, ACM, ACF…)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/InseeFrLab/utilitR/edit/master/03_Fiches_thematiques/Fiche_donnees_temporelles.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/InseeFrLab/utilitR/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<li>
<a href="https://github.com/InseeFrLab/utilitR.git" target="blank">Code source</a>
</li>
</div>
  </div>
</footer>


</body></html>